# 10.进程管理
## 10.1 进程的基本介绍
1. 在Linux，每个执行的程序(代码)都称为一个进程。每一个进程都分配一个ID号。
2. 每一个进程，都会对应一个父进程，而这个父进程可以复制多个子进程。例如www服务器
3. 每个进程都可能以两种方式存在。前台与后台，所谓前台进程就是用户目前的屏幕上可以进行操作的。后台进程则是实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行。
4. 一般系统的服务都是以后台进程的方式，而且都会常驻在系统中，直到关机才结束。
## 10.2 显示系统执行的进程
1. 说明:查看进程使用的指令是`ps`，一般来说使用的参数是`a,u,x`
2. 参数说明:
   - a:显示当前终端的所有进程信息
   - u:以用户的格式显示进程信息
   - x:显示后台进程运行的参数
   - e:显示所有进程
   - f:全格式
3. `ps`显示的信息选项:

| 字段 | 说明 |
| :---: | :---: |
| PID | 进程识别号 |
| TTY | 终端机号 |
| TIME | 此进程所消CPU时间 |
| CMD | 正在执行的命令或进程名 |  
## 10.3 终止进程kill和killall
1. 若是某个进程执行一半需要停止时，或是已消来很大的系统资源时，此时可以考虑停止该进程。使用kill命令来完成此项任务。
2. 基本语法:
   - `kill [选项] 进程号`(功能描述:通过进程号杀死进程)
   - `killall 进程名称`(功能描述:通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用)
3. 常用选项:
   - 9:表示强迫进程终止
## 10.4 查看进程树
1. 基本语法:
   - `pstree [选项]`,可以更加直观的来看进程信息
2. 常用选项:
   - p:显示进程的PID
   - u:显示进程的所属用户
## 10.5 服务管理
1. 介绍:
   - 服务本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其他程序的请求，比如(mysql,sshd,防火墙等)，因此我们又称之为守护进程，是Linux中非常重要的知识点。
2. service管理指令
   - `service 服务名 [start|stop|restart|reload|status]`
   - 在CentOS7.0后，不再使用`service`,而是使用`systemctl`
3. 查看服务名
   - 使用`setup->系统服务`就可以看到
   - /etc/init.d/服务名
4. chkconfig指令
  - 介绍:通过`chkconfig`命令可以给每个服务的各个运行级别设置自启动/关闭
  - 基本语法:
    - 查看服务:`chkconfig --list | grep xxx`
    - `chkconfig 服务名 --list`
    - `chkconfig --level 5 服务名 on/off`
## 10.6 动态监控进程
1. 介绍:
   - top和ps指令很相似。他们都用来显示正在执行的进程。top与ps最大的不同之处，在于top在执行一段时间可以更新正在运行的进程。
2. 基本语法:
   - `top [选项]`
3. 选项声明:

| 选项 | 功能 |
| :---: | :---: |
| d | 指定top指令每隔几秒更新，默认是3秒在top指令的交互模式当中可以执行的命令 |
| i | 使top不显示任何闲置或者僵死进程 |
| p | 通过指定监控进程ID来监控某个进程的状态 |

4. 交互操作说明:

| 操作 | 功能 |
| :---: | :---: |
| P | 以CPU使用率排序，默认就是此选项 |
| M | 以内存的使用率排序 |
| N | 以PID排序 |
| q | 退出top |
## 10.7 监控网络状态
1. 基本语法:
   - `netstat [选项]`
2. 选项说明:
   - an:按一定顺序排序输出
   - p:显示那个进程在调用
