# 8.Linux磁盘分区、挂载
## 8.1 分区基本知识
### 8.1.1 分区的方式:
1. mbr分区:
   - 最多支持四个分区
   - 系统只能安装在主分区
   - 扩展分区要占一个主分区
   - MBR最大只支持2TB，但拥有最好的兼容性
2. gtp分区:
   - 支持无限多个分区(但操作系统可能限制，比如windows下最多128个分区)
   - 最大支持18EB的大容量(1EB=1024PB，1PB=1024TB)
   - windows7 64位以后支持gtp
## 8.2 Linux分区
### 8.2.1 原理介绍
1. 对Linux来说无论有几个分区，分给哪一个目录使用，它归根结底就只有一个根目录，一个独立且唯一的文件结构，Linux中每个分区都是用来组成整个文件系统的一部分。
2. Linux采用了一种叫"载入"的处理方式，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来。这时要载入的一个分区使它的存储空间在一个目录下获得。
### 8.2.2 硬盘说明
1. Linux硬盘分为IDE硬盘和SCSI硬盘，目前基本上是SCSI硬盘
2. 对于IDE硬盘，驱动器标识符为"hdx~";对于SCSI硬盘标识为"sdx~"，SCSI硬盘是用"sd"来表示分区所在设备的类型的
3. 使用`lsblk`指令查看当前系统的分区情况
## 8.3 增加硬盘步骤
1. 添加一块硬盘
2. 分区:`fdisk 标识符`
3. 格式化:`mkfs -t ext4 标识符`
4. 挂载:`mount 设备名称 挂载目录`
5. 永久挂载:修改`/etc/fstb`文件
## 8.4 磁盘情况查询
### 8.4.1 查询系统整体磁盘使用情况
1. 基本语法
   - `df -h`
### 8.4.2 查询指定目录的磁盘使用情况
1. 基本语法
   - `du -h /目录`
## 8.5 磁盘情况-工作实用指令
1. 统计/home文件夹下文件的个数:`ls -l /home | grep "^-" | wc -l`
2. 统计/home文件夹下目录的个数:`ls -l /home | grep "^d" | wc -l`
3. 统计/home文件夹下文件的个数，包括子文件夹里的:`ls -lR /home | grep "^-" | wc -l`
4. 统计/home文件夹下目录的个数，包括子文件夹里的:`ls -lR /home | grep "^d" | wc -l`
5. 以树状显示目录结构:`tree`